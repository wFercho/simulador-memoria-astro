---
import Layout from "../layouts/Layout.astro";
import { ProcessesTable } from "../components/ProcessesTable";
import { FixedMemory } from "../components/FixedMemory";
import { AddProcessToFixedMemory } from "../components/AddProcessToFixedMemory";
---

<Layout title="Simulador Memoria">
	<main class="flex bg-gray-400 h-full gap-x-6 px-6">
		<div class="w-2/3 py-10 flex flex-col gap-y-10 px-40">
			<AddProcessToFixedMemory client:load />
			<ProcessesTable client:load />
		</div>
		<div class="w-1/3 px-5 pb-8 pt-5">
			<FixedMemory client:load />
		</div>
	</main>
</Layout>

<script>
	import { clock } from "../utils/clock";
	import { processesTick } from "../stores/useFixedMemoryStore";

	const interval = clock({
		processesTick,
	});

	setTimeout(() => {
		clearInterval(interval);
		console.log("Intervalo detenido.");
	}, 100000);
</script>
<style></style>
