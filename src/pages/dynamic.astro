---
import Layout from "../layouts/Layout.astro";
import { ProcessesTableDynamicMemory } from "../components/ProcessesTableDynamicMemory";
import { DynamicMemory } from "../components/DynamicMemory";
import { AddProcessToDynamicMemory } from "../components/AddProcessToDynamicMemory";
---

<Layout title="Simulador Memoria">
	<main class="flex bg-gray-400 h-full gap-x-6 px-6">
		<div class="w-2/3 py-10 flex flex-col gap-y-10 px-40">
			<AddProcessToDynamicMemory client:load />
			<ProcessesTableDynamicMemory client:load />
		</div>
		<div class="w-1/3 px-5 pb-8 pt-5">
			<DynamicMemory client:load />
		</div>
	</main>
</Layout>

<script>
	import { clock } from "../utils/clock";
	import { processesTickDynamic } from "../stores/useDynamicMemoryStore";

	const interval = clock({
		processesTick: processesTickDynamic,
	});

	setTimeout(() => {
		clearInterval(interval);
		console.log("Intervalo detenido.");
	}, 80000);
</script>
<style></style>
